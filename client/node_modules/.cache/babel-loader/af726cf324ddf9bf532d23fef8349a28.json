{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\nvar _Bounds = require('./Bounds');\nvar _Font = require('./Font');\nvar _Gradient = require('./Gradient');\nvar _TextContainer = require('./TextContainer');\nvar _TextContainer2 = _interopRequireDefault(_TextContainer);\nvar _background = require('./parsing/background');\nvar _border = require('./parsing/border');\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nvar Renderer = function () {\n  function Renderer(target, options) {\n    _classCallCheck(this, Renderer);\n    this.target = target;\n    this.options = options;\n    target.render(options);\n  }\n  _createClass(Renderer, [{\n    key: 'renderNode',\n    value: function renderNode(container) {\n      if (container.isVisible()) {\n        this.renderNodeBackgroundAndBorders(container);\n        this.renderNodeContent(container);\n      }\n    }\n  }, {\n    key: 'renderNodeContent',\n    value: function renderNodeContent(container) {\n      var _this = this;\n      var callback = function callback() {\n        if (container.childNodes.length) {\n          container.childNodes.forEach(function (child) {\n            if (child instanceof _TextContainer2.default) {\n              var style = child.parent.style;\n              _this.target.renderTextNode(child.bounds, style.color, style.font, style.textDecoration, style.textShadow);\n            } else {\n              _this.target.drawShape(child, container.style.color);\n            }\n          });\n        }\n        if (container.image) {\n          var _image = _this.options.imageStore.get(container.image);\n          if (_image) {\n            var contentBox = (0, _Bounds.calculateContentBox)(container.bounds, container.style.padding, container.style.border);\n            var _width = typeof _image.width === 'number' && _image.width > 0 ? _image.width : contentBox.width;\n            var _height = typeof _image.height === 'number' && _image.height > 0 ? _image.height : contentBox.height;\n            if (_width > 0 && _height > 0) {\n              _this.target.clip([(0, _Bounds.calculatePaddingBoxPath)(container.curvedBounds)], function () {\n                _this.target.drawImage(_image, new _Bounds.Bounds(0, 0, _width, _height), contentBox);\n              });\n            }\n          }\n        }\n      };\n      var paths = container.getClipPaths();\n      if (paths.length) {\n        this.target.clip(paths, callback);\n      } else {\n        callback();\n      }\n    }\n  }, {\n    key: 'renderNodeBackgroundAndBorders',\n    value: function renderNodeBackgroundAndBorders(container) {\n      var _this2 = this;\n      var HAS_BACKGROUND = !container.style.background.backgroundColor.isTransparent() || container.style.background.backgroundImage.length;\n      var hasRenderableBorders = container.style.border.some(function (border) {\n        return border.borderStyle !== _border.BORDER_STYLE.NONE && !border.borderColor.isTransparent();\n      });\n      var callback = function callback() {\n        var backgroundPaintingArea = (0, _background.calculateBackgroungPaintingArea)(container.curvedBounds, container.style.background.backgroundClip);\n        if (HAS_BACKGROUND) {\n          _this2.target.clip([backgroundPaintingArea], function () {\n            if (!container.style.background.backgroundColor.isTransparent()) {\n              _this2.target.fill(container.style.background.backgroundColor);\n            }\n            _this2.renderBackgroundImage(container);\n          });\n        }\n        container.style.border.forEach(function (border, side) {\n          if (border.borderStyle !== _border.BORDER_STYLE.NONE && !border.borderColor.isTransparent()) {\n            _this2.renderBorder(border, side, container.curvedBounds);\n          }\n        });\n      };\n      if (HAS_BACKGROUND || hasRenderableBorders) {\n        var paths = container.parent ? container.parent.getClipPaths() : [];\n        if (paths.length) {\n          this.target.clip(paths, callback);\n        } else {\n          callback();\n        }\n      }\n    }\n  }, {\n    key: 'renderBackgroundImage',\n    value: function renderBackgroundImage(container) {\n      var _this3 = this;\n      container.style.background.backgroundImage.slice(0).reverse().forEach(function (backgroundImage) {\n        if (backgroundImage.source.method === 'url' && backgroundImage.source.args.length) {\n          _this3.renderBackgroundRepeat(container, backgroundImage);\n        } else if (/gradient/i.test(backgroundImage.source.method)) {\n          _this3.renderBackgroundGradient(container, backgroundImage);\n        }\n      });\n    }\n  }, {\n    key: 'renderBackgroundRepeat',\n    value: function renderBackgroundRepeat(container, background) {\n      var image = this.options.imageStore.get(background.source.args[0]);\n      if (image) {\n        var backgroundPositioningArea = (0, _background.calculateBackgroungPositioningArea)(container.style.background.backgroundOrigin, container.bounds, container.style.padding, container.style.border);\n        var backgroundImageSize = (0, _background.calculateBackgroundSize)(background, image, backgroundPositioningArea);\n        var position = (0, _background.calculateBackgroundPosition)(background.position, backgroundImageSize, backgroundPositioningArea);\n        var _path = (0, _background.calculateBackgroundRepeatPath)(background, position, backgroundImageSize, backgroundPositioningArea, container.bounds);\n        var _offsetX = Math.round(backgroundPositioningArea.left + position.x);\n        var _offsetY = Math.round(backgroundPositioningArea.top + position.y);\n        this.target.renderRepeat(_path, image, backgroundImageSize, _offsetX, _offsetY);\n      }\n    }\n  }, {\n    key: 'renderBackgroundGradient',\n    value: function renderBackgroundGradient(container, background) {\n      var backgroundPositioningArea = (0, _background.calculateBackgroungPositioningArea)(container.style.background.backgroundOrigin, container.bounds, container.style.padding, container.style.border);\n      var backgroundImageSize = (0, _background.calculateGradientBackgroundSize)(background, backgroundPositioningArea);\n      var position = (0, _background.calculateBackgroundPosition)(background.position, backgroundImageSize, backgroundPositioningArea);\n      var gradientBounds = new _Bounds.Bounds(Math.round(backgroundPositioningArea.left + position.x), Math.round(backgroundPositioningArea.top + position.y), backgroundImageSize.width, backgroundImageSize.height);\n      var gradient = (0, _Gradient.parseGradient)(container, background.source, gradientBounds);\n      if (gradient) {\n        switch (gradient.type) {\n          case _Gradient.GRADIENT_TYPE.LINEAR_GRADIENT:\n            // $FlowFixMe\n            this.target.renderLinearGradient(gradientBounds, gradient);\n            break;\n          case _Gradient.GRADIENT_TYPE.RADIAL_GRADIENT:\n            // $FlowFixMe\n            this.target.renderRadialGradient(gradientBounds, gradient);\n            break;\n        }\n      }\n    }\n  }, {\n    key: 'renderBorder',\n    value: function renderBorder(border, side, curvePoints) {\n      this.target.drawShape((0, _Bounds.parsePathForBorder)(curvePoints, side), border.borderColor);\n    }\n  }, {\n    key: 'renderStack',\n    value: function renderStack(stack) {\n      var _this4 = this;\n      if (stack.container.isVisible()) {\n        var _opacity = stack.getOpacity();\n        if (_opacity !== this._opacity) {\n          this.target.setOpacity(stack.getOpacity());\n          this._opacity = _opacity;\n        }\n        var _transform = stack.container.style.transform;\n        if (_transform !== null) {\n          this.target.transform(stack.container.bounds.left + _transform.transformOrigin[0].value, stack.container.bounds.top + _transform.transformOrigin[1].value, _transform.transform, function () {\n            return _this4.renderStackContent(stack);\n          });\n        } else {\n          this.renderStackContent(stack);\n        }\n      }\n    }\n  }, {\n    key: 'renderStackContent',\n    value: function renderStackContent(stack) {\n      var _splitStackingContext = splitStackingContexts(stack),\n        _splitStackingContext2 = _slicedToArray(_splitStackingContext, 5),\n        negativeZIndex = _splitStackingContext2[0],\n        zeroOrAutoZIndexOrTransformedOrOpacity = _splitStackingContext2[1],\n        positiveZIndex = _splitStackingContext2[2],\n        nonPositionedFloats = _splitStackingContext2[3],\n        nonPositionedInlineLevel = _splitStackingContext2[4];\n      var _splitDescendants = splitDescendants(stack),\n        _splitDescendants2 = _slicedToArray(_splitDescendants, 2),\n        inlineLevel = _splitDescendants2[0],\n        nonInlineLevel = _splitDescendants2[1];\n\n      // https://www.w3.org/TR/css-position-3/#painting-order\n      // 1. the background and borders of the element forming the stacking context.\n\n      this.renderNodeBackgroundAndBorders(stack.container);\n      // 2. the child stacking contexts with negative stack levels (most negative first).\n      negativeZIndex.sort(sortByZIndex).forEach(this.renderStack, this);\n      // 3. For all its in-flow, non-positioned, block-level descendants in tree order:\n      this.renderNodeContent(stack.container);\n      nonInlineLevel.forEach(this.renderNode, this);\n      // 4. All non-positioned floating descendants, in tree order. For each one of these,\n      // treat the element as if it created a new stacking context, but any positioned descendants and descendants\n      // which actually create a new stacking context should be considered part of the parent stacking context,\n      // not this new one.\n      nonPositionedFloats.forEach(this.renderStack, this);\n      // 5. the in-flow, inline-level, non-positioned descendants, including inline tables and inline blocks.\n      nonPositionedInlineLevel.forEach(this.renderStack, this);\n      inlineLevel.forEach(this.renderNode, this);\n      // 6. All positioned, opacity or transform descendants, in tree order that fall into the following categories:\n      //  All positioned descendants with 'z-index: auto' or 'z-index: 0', in tree order.\n      //  For those with 'z-index: auto', treat the element as if it created a new stacking context,\n      //  but any positioned descendants and descendants which actually create a new stacking context should be\n      //  considered part of the parent stacking context, not this new one. For those with 'z-index: 0',\n      //  treat the stacking context generated atomically.\n      //\n      //  All opacity descendants with opacity less than 1\n      //\n      //  All transform descendants with transform other than none\n      zeroOrAutoZIndexOrTransformedOrOpacity.forEach(this.renderStack, this);\n      // 7. Stacking contexts formed by positioned descendants with z-indices greater than or equal to 1 in z-index\n      // order (smallest first) then tree order.\n      positiveZIndex.sort(sortByZIndex).forEach(this.renderStack, this);\n    }\n  }, {\n    key: 'render',\n    value: function render(stack) {\n      var _this5 = this;\n      if (this.options.backgroundColor) {\n        this.target.rectangle(this.options.x, this.options.y, this.options.width, this.options.height, this.options.backgroundColor);\n      }\n      this.renderStack(stack);\n      var target = this.target.getTarget();\n      if (process.env.NODE_ENV !== 'production') {\n        return target.then(function (output) {\n          _this5.options.logger.log('Render completed');\n          return output;\n        });\n      }\n      return target;\n    }\n  }]);\n  return Renderer;\n}();\nexports.default = Renderer;\nvar splitDescendants = function splitDescendants(stack) {\n  var inlineLevel = [];\n  var nonInlineLevel = [];\n  var length = stack.children.length;\n  for (var i = 0; i < length; i++) {\n    var child = stack.children[i];\n    if (child.isInlineLevel()) {\n      inlineLevel.push(child);\n    } else {\n      nonInlineLevel.push(child);\n    }\n  }\n  return [inlineLevel, nonInlineLevel];\n};\nvar splitStackingContexts = function splitStackingContexts(stack) {\n  var negativeZIndex = [];\n  var zeroOrAutoZIndexOrTransformedOrOpacity = [];\n  var positiveZIndex = [];\n  var nonPositionedFloats = [];\n  var nonPositionedInlineLevel = [];\n  var length = stack.contexts.length;\n  for (var i = 0; i < length; i++) {\n    var child = stack.contexts[i];\n    if (child.container.isPositioned() || child.container.style.opacity < 1 || child.container.isTransformed()) {\n      if (child.container.style.zIndex.order < 0) {\n        negativeZIndex.push(child);\n      } else if (child.container.style.zIndex.order > 0) {\n        positiveZIndex.push(child);\n      } else {\n        zeroOrAutoZIndexOrTransformedOrOpacity.push(child);\n      }\n    } else {\n      if (child.container.isFloating()) {\n        nonPositionedFloats.push(child);\n      } else {\n        nonPositionedInlineLevel.push(child);\n      }\n    }\n  }\n  return [negativeZIndex, zeroOrAutoZIndexOrTransformedOrOpacity, positiveZIndex, nonPositionedFloats, nonPositionedInlineLevel];\n};\nvar sortByZIndex = function sortByZIndex(a, b) {\n  if (a.container.style.zIndex.order > b.container.style.zIndex.order) {\n    return 1;\n  } else if (a.container.style.zIndex.order < b.container.style.zIndex.order) {\n    return -1;\n  }\n  return a.container.index > b.container.index ? 1 : -1;\n};","map":{"version":3,"names":["Object","defineProperty","exports","value","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_i","Symbol","iterator","_s","next","done","push","length","err","Array","isArray","TypeError","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_Bounds","require","_Font","_Gradient","_TextContainer","_TextContainer2","_interopRequireDefault","_background","_border","obj","__esModule","default","_classCallCheck","instance","Renderer","options","render","renderNode","container","isVisible","renderNodeBackgroundAndBorders","renderNodeContent","_this","callback","childNodes","forEach","child","style","parent","renderTextNode","bounds","color","font","textDecoration","textShadow","drawShape","image","_image","imageStore","get","contentBox","calculateContentBox","padding","border","_width","width","_height","height","clip","calculatePaddingBoxPath","curvedBounds","drawImage","Bounds","paths","getClipPaths","_this2","HAS_BACKGROUND","background","backgroundColor","isTransparent","backgroundImage","hasRenderableBorders","some","borderStyle","BORDER_STYLE","NONE","borderColor","backgroundPaintingArea","calculateBackgroungPaintingArea","backgroundClip","fill","renderBackgroundImage","side","renderBorder","_this3","slice","reverse","source","method","args","renderBackgroundRepeat","test","renderBackgroundGradient","backgroundPositioningArea","calculateBackgroungPositioningArea","backgroundOrigin","backgroundImageSize","calculateBackgroundSize","position","calculateBackgroundPosition","_path","calculateBackgroundRepeatPath","_offsetX","Math","round","left","x","_offsetY","top","y","renderRepeat","calculateGradientBackgroundSize","gradientBounds","gradient","parseGradient","type","GRADIENT_TYPE","LINEAR_GRADIENT","renderLinearGradient","RADIAL_GRADIENT","renderRadialGradient","curvePoints","parsePathForBorder","renderStack","stack","_this4","_opacity","getOpacity","setOpacity","_transform","transform","transformOrigin","renderStackContent","_splitStackingContext","splitStackingContexts","_splitStackingContext2","negativeZIndex","zeroOrAutoZIndexOrTransformedOrOpacity","positiveZIndex","nonPositionedFloats","nonPositionedInlineLevel","_splitDescendants","splitDescendants","_splitDescendants2","inlineLevel","nonInlineLevel","sort","sortByZIndex","_this5","rectangle","getTarget","process","env","NODE_ENV","then","output","logger","log","children","isInlineLevel","contexts","isPositioned","opacity","isTransformed","zIndex","order","isFloating","a","b","index"],"sources":["C:/newLpmss/webProtech_lms/client/node_modules/html2canvas/dist/npm/Renderer.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Bounds = require('./Bounds');\n\nvar _Font = require('./Font');\n\nvar _Gradient = require('./Gradient');\n\nvar _TextContainer = require('./TextContainer');\n\nvar _TextContainer2 = _interopRequireDefault(_TextContainer);\n\nvar _background = require('./parsing/background');\n\nvar _border = require('./parsing/border');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Renderer = function () {\n    function Renderer(target, options) {\n        _classCallCheck(this, Renderer);\n\n        this.target = target;\n        this.options = options;\n        target.render(options);\n    }\n\n    _createClass(Renderer, [{\n        key: 'renderNode',\n        value: function renderNode(container) {\n            if (container.isVisible()) {\n                this.renderNodeBackgroundAndBorders(container);\n                this.renderNodeContent(container);\n            }\n        }\n    }, {\n        key: 'renderNodeContent',\n        value: function renderNodeContent(container) {\n            var _this = this;\n\n            var callback = function callback() {\n                if (container.childNodes.length) {\n                    container.childNodes.forEach(function (child) {\n                        if (child instanceof _TextContainer2.default) {\n                            var style = child.parent.style;\n                            _this.target.renderTextNode(child.bounds, style.color, style.font, style.textDecoration, style.textShadow);\n                        } else {\n                            _this.target.drawShape(child, container.style.color);\n                        }\n                    });\n                }\n\n                if (container.image) {\n                    var _image = _this.options.imageStore.get(container.image);\n                    if (_image) {\n                        var contentBox = (0, _Bounds.calculateContentBox)(container.bounds, container.style.padding, container.style.border);\n                        var _width = typeof _image.width === 'number' && _image.width > 0 ? _image.width : contentBox.width;\n                        var _height = typeof _image.height === 'number' && _image.height > 0 ? _image.height : contentBox.height;\n                        if (_width > 0 && _height > 0) {\n                            _this.target.clip([(0, _Bounds.calculatePaddingBoxPath)(container.curvedBounds)], function () {\n                                _this.target.drawImage(_image, new _Bounds.Bounds(0, 0, _width, _height), contentBox);\n                            });\n                        }\n                    }\n                }\n            };\n            var paths = container.getClipPaths();\n            if (paths.length) {\n                this.target.clip(paths, callback);\n            } else {\n                callback();\n            }\n        }\n    }, {\n        key: 'renderNodeBackgroundAndBorders',\n        value: function renderNodeBackgroundAndBorders(container) {\n            var _this2 = this;\n\n            var HAS_BACKGROUND = !container.style.background.backgroundColor.isTransparent() || container.style.background.backgroundImage.length;\n\n            var hasRenderableBorders = container.style.border.some(function (border) {\n                return border.borderStyle !== _border.BORDER_STYLE.NONE && !border.borderColor.isTransparent();\n            });\n\n            var callback = function callback() {\n                var backgroundPaintingArea = (0, _background.calculateBackgroungPaintingArea)(container.curvedBounds, container.style.background.backgroundClip);\n\n                if (HAS_BACKGROUND) {\n                    _this2.target.clip([backgroundPaintingArea], function () {\n                        if (!container.style.background.backgroundColor.isTransparent()) {\n                            _this2.target.fill(container.style.background.backgroundColor);\n                        }\n\n                        _this2.renderBackgroundImage(container);\n                    });\n                }\n\n                container.style.border.forEach(function (border, side) {\n                    if (border.borderStyle !== _border.BORDER_STYLE.NONE && !border.borderColor.isTransparent()) {\n                        _this2.renderBorder(border, side, container.curvedBounds);\n                    }\n                });\n            };\n\n            if (HAS_BACKGROUND || hasRenderableBorders) {\n                var paths = container.parent ? container.parent.getClipPaths() : [];\n                if (paths.length) {\n                    this.target.clip(paths, callback);\n                } else {\n                    callback();\n                }\n            }\n        }\n    }, {\n        key: 'renderBackgroundImage',\n        value: function renderBackgroundImage(container) {\n            var _this3 = this;\n\n            container.style.background.backgroundImage.slice(0).reverse().forEach(function (backgroundImage) {\n                if (backgroundImage.source.method === 'url' && backgroundImage.source.args.length) {\n                    _this3.renderBackgroundRepeat(container, backgroundImage);\n                } else if (/gradient/i.test(backgroundImage.source.method)) {\n                    _this3.renderBackgroundGradient(container, backgroundImage);\n                }\n            });\n        }\n    }, {\n        key: 'renderBackgroundRepeat',\n        value: function renderBackgroundRepeat(container, background) {\n            var image = this.options.imageStore.get(background.source.args[0]);\n            if (image) {\n                var backgroundPositioningArea = (0, _background.calculateBackgroungPositioningArea)(container.style.background.backgroundOrigin, container.bounds, container.style.padding, container.style.border);\n                var backgroundImageSize = (0, _background.calculateBackgroundSize)(background, image, backgroundPositioningArea);\n                var position = (0, _background.calculateBackgroundPosition)(background.position, backgroundImageSize, backgroundPositioningArea);\n                var _path = (0, _background.calculateBackgroundRepeatPath)(background, position, backgroundImageSize, backgroundPositioningArea, container.bounds);\n\n                var _offsetX = Math.round(backgroundPositioningArea.left + position.x);\n                var _offsetY = Math.round(backgroundPositioningArea.top + position.y);\n                this.target.renderRepeat(_path, image, backgroundImageSize, _offsetX, _offsetY);\n            }\n        }\n    }, {\n        key: 'renderBackgroundGradient',\n        value: function renderBackgroundGradient(container, background) {\n            var backgroundPositioningArea = (0, _background.calculateBackgroungPositioningArea)(container.style.background.backgroundOrigin, container.bounds, container.style.padding, container.style.border);\n            var backgroundImageSize = (0, _background.calculateGradientBackgroundSize)(background, backgroundPositioningArea);\n            var position = (0, _background.calculateBackgroundPosition)(background.position, backgroundImageSize, backgroundPositioningArea);\n            var gradientBounds = new _Bounds.Bounds(Math.round(backgroundPositioningArea.left + position.x), Math.round(backgroundPositioningArea.top + position.y), backgroundImageSize.width, backgroundImageSize.height);\n\n            var gradient = (0, _Gradient.parseGradient)(container, background.source, gradientBounds);\n            if (gradient) {\n                switch (gradient.type) {\n                    case _Gradient.GRADIENT_TYPE.LINEAR_GRADIENT:\n                        // $FlowFixMe\n                        this.target.renderLinearGradient(gradientBounds, gradient);\n                        break;\n                    case _Gradient.GRADIENT_TYPE.RADIAL_GRADIENT:\n                        // $FlowFixMe\n                        this.target.renderRadialGradient(gradientBounds, gradient);\n                        break;\n                }\n            }\n        }\n    }, {\n        key: 'renderBorder',\n        value: function renderBorder(border, side, curvePoints) {\n            this.target.drawShape((0, _Bounds.parsePathForBorder)(curvePoints, side), border.borderColor);\n        }\n    }, {\n        key: 'renderStack',\n        value: function renderStack(stack) {\n            var _this4 = this;\n\n            if (stack.container.isVisible()) {\n                var _opacity = stack.getOpacity();\n                if (_opacity !== this._opacity) {\n                    this.target.setOpacity(stack.getOpacity());\n                    this._opacity = _opacity;\n                }\n\n                var _transform = stack.container.style.transform;\n                if (_transform !== null) {\n                    this.target.transform(stack.container.bounds.left + _transform.transformOrigin[0].value, stack.container.bounds.top + _transform.transformOrigin[1].value, _transform.transform, function () {\n                        return _this4.renderStackContent(stack);\n                    });\n                } else {\n                    this.renderStackContent(stack);\n                }\n            }\n        }\n    }, {\n        key: 'renderStackContent',\n        value: function renderStackContent(stack) {\n            var _splitStackingContext = splitStackingContexts(stack),\n                _splitStackingContext2 = _slicedToArray(_splitStackingContext, 5),\n                negativeZIndex = _splitStackingContext2[0],\n                zeroOrAutoZIndexOrTransformedOrOpacity = _splitStackingContext2[1],\n                positiveZIndex = _splitStackingContext2[2],\n                nonPositionedFloats = _splitStackingContext2[3],\n                nonPositionedInlineLevel = _splitStackingContext2[4];\n\n            var _splitDescendants = splitDescendants(stack),\n                _splitDescendants2 = _slicedToArray(_splitDescendants, 2),\n                inlineLevel = _splitDescendants2[0],\n                nonInlineLevel = _splitDescendants2[1];\n\n            // https://www.w3.org/TR/css-position-3/#painting-order\n            // 1. the background and borders of the element forming the stacking context.\n\n\n            this.renderNodeBackgroundAndBorders(stack.container);\n            // 2. the child stacking contexts with negative stack levels (most negative first).\n            negativeZIndex.sort(sortByZIndex).forEach(this.renderStack, this);\n            // 3. For all its in-flow, non-positioned, block-level descendants in tree order:\n            this.renderNodeContent(stack.container);\n            nonInlineLevel.forEach(this.renderNode, this);\n            // 4. All non-positioned floating descendants, in tree order. For each one of these,\n            // treat the element as if it created a new stacking context, but any positioned descendants and descendants\n            // which actually create a new stacking context should be considered part of the parent stacking context,\n            // not this new one.\n            nonPositionedFloats.forEach(this.renderStack, this);\n            // 5. the in-flow, inline-level, non-positioned descendants, including inline tables and inline blocks.\n            nonPositionedInlineLevel.forEach(this.renderStack, this);\n            inlineLevel.forEach(this.renderNode, this);\n            // 6. All positioned, opacity or transform descendants, in tree order that fall into the following categories:\n            //  All positioned descendants with 'z-index: auto' or 'z-index: 0', in tree order.\n            //  For those with 'z-index: auto', treat the element as if it created a new stacking context,\n            //  but any positioned descendants and descendants which actually create a new stacking context should be\n            //  considered part of the parent stacking context, not this new one. For those with 'z-index: 0',\n            //  treat the stacking context generated atomically.\n            //\n            //  All opacity descendants with opacity less than 1\n            //\n            //  All transform descendants with transform other than none\n            zeroOrAutoZIndexOrTransformedOrOpacity.forEach(this.renderStack, this);\n            // 7. Stacking contexts formed by positioned descendants with z-indices greater than or equal to 1 in z-index\n            // order (smallest first) then tree order.\n            positiveZIndex.sort(sortByZIndex).forEach(this.renderStack, this);\n        }\n    }, {\n        key: 'render',\n        value: function render(stack) {\n            var _this5 = this;\n\n            if (this.options.backgroundColor) {\n                this.target.rectangle(this.options.x, this.options.y, this.options.width, this.options.height, this.options.backgroundColor);\n            }\n            this.renderStack(stack);\n            var target = this.target.getTarget();\n            if (process.env.NODE_ENV !== 'production') {\n                return target.then(function (output) {\n                    _this5.options.logger.log('Render completed');\n                    return output;\n                });\n            }\n            return target;\n        }\n    }]);\n\n    return Renderer;\n}();\n\nexports.default = Renderer;\n\n\nvar splitDescendants = function splitDescendants(stack) {\n    var inlineLevel = [];\n    var nonInlineLevel = [];\n\n    var length = stack.children.length;\n    for (var i = 0; i < length; i++) {\n        var child = stack.children[i];\n        if (child.isInlineLevel()) {\n            inlineLevel.push(child);\n        } else {\n            nonInlineLevel.push(child);\n        }\n    }\n    return [inlineLevel, nonInlineLevel];\n};\n\nvar splitStackingContexts = function splitStackingContexts(stack) {\n    var negativeZIndex = [];\n    var zeroOrAutoZIndexOrTransformedOrOpacity = [];\n    var positiveZIndex = [];\n    var nonPositionedFloats = [];\n    var nonPositionedInlineLevel = [];\n    var length = stack.contexts.length;\n    for (var i = 0; i < length; i++) {\n        var child = stack.contexts[i];\n        if (child.container.isPositioned() || child.container.style.opacity < 1 || child.container.isTransformed()) {\n            if (child.container.style.zIndex.order < 0) {\n                negativeZIndex.push(child);\n            } else if (child.container.style.zIndex.order > 0) {\n                positiveZIndex.push(child);\n            } else {\n                zeroOrAutoZIndexOrTransformedOrOpacity.push(child);\n            }\n        } else {\n            if (child.container.isFloating()) {\n                nonPositionedFloats.push(child);\n            } else {\n                nonPositionedInlineLevel.push(child);\n            }\n        }\n    }\n    return [negativeZIndex, zeroOrAutoZIndexOrTransformedOrOpacity, positiveZIndex, nonPositionedFloats, nonPositionedInlineLevel];\n};\n\nvar sortByZIndex = function sortByZIndex(a, b) {\n    if (a.container.style.zIndex.order > b.container.style.zIndex.order) {\n        return 1;\n    } else if (a.container.style.zIndex.order < b.container.style.zIndex.order) {\n        return -1;\n    }\n\n    return a.container.index > b.container.index ? 1 : -1;\n};"],"mappings":"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"},"metadata":{},"sourceType":"script"}